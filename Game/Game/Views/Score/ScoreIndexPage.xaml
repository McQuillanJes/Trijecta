<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Game.Views.ScoreIndexPage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:d="http://xamarin.com/schemas/2014/forms/design"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="BrowseItemsPage"
    Title="{Binding Title}"
    mc:Ignorable="d">

    <ContentPage.ToolbarItems>
        <ToolbarItem
            Clicked="AddScore_Clicked"
            IconImageSource="icon_add.png"
            Text="Add" />
    </ContentPage.ToolbarItems>

    <ContentPage.Content>
        <StackLayout HorizontalOptions="Center" Style="{StaticResource OuterBoxStack}">

            <Label Style="{StaticResource HeaderStyle}" Text="Score List Page" />


            <StackLayout HorizontalOptions="Center" Style="{StaticResource VerticalStack}">

                <Grid ColumnSpacing="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60" />
                        <ColumnDefinition Width="115" />
                        <ColumnDefinition Width="70" />
                    </Grid.ColumnDefinitions>

                    <Label Margin="5"
                        Grid.Column="0"
                        Style="{StaticResource ListStyle}"
                        Text="Name" 
                        TextDecorations="Underline"/>
                    
                    <Label
                        Grid.Column="2"
                        Style="{StaticResource ListStyle}"
                        Text="Rounds" 
                        TextDecorations="Underline"/>
                    <Label
                        Grid.Column="4"
                        Style="{StaticResource ListStyle}"
                        Text="Score" 
                        TextDecorations="Underline"/>
                </Grid>

                <ListView
                    x:Name="DataListView"
                    Margin="5,0,5,0"
                    CachingStrategy="RecycleElement"
                    HasUnevenRows="true"
                    IsRefreshing="{Binding IsBusy, Mode=OneWay}"
                    ItemSelected="OnItemSelected"
                    ItemsSource="{Binding Dataset}"
                    RefreshCommand="{Binding LoadItemsCommand}"
                    RowHeight="80">

                    <ListView.ItemTemplate>
                        <DataTemplate>

                            <ViewCell>

                                <Grid ColumnSpacing="1" RowSpacing="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="50" />
                                    </Grid.ColumnDefinitions>

                                    <Label
                                        Grid.Column="0"
                                        Style="{StaticResource ListStyle}"
                                        Text="{Binding Name}" />



                                    <Label
                                        Grid.Column="2"
                                        Style="{StaticResource ListStyle}"
                                        Text="{Binding RoundCount}" />



                                    <Label
                                        Grid.Column="4"
                                        Style="{StaticResource ListStyle}"
                                        Text="{Binding ScoreTotal}" />

                                </Grid>
                            </ViewCell>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </StackLayout>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>